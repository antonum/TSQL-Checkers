Include %occInclude

/// Generated by TSQL CREATE PROC SQLUser.validCell
Class User.validCell [ Abstract, DdlAllowed, GeneratedBy = %XSQL.StatementBatch.cls, Owner = {UnknownUser} ]
{

ClassMethod validCell(cell As %Library.String(MAXLEN=2)) As %Library.Boolean [ Language = tsql, SqlName = validCell, SqlProc ]
{

begin
 declare @bout bit, @row varchar(1), @col int, @gr int
 set @cell=ltrim(rtrim(@cell)) --workaround for functions that generate cells with leading spaces
 select @bout = 0,@row = left(@cell, 1), @col = convert(int, right(@cell, 1)),
  @gr = (128 | 32 | 8 | 2)
 if charindex(lower(@row), 'abcdefgh')>0
 begin
 --cache {w gr}
  set @bout = case when tsql.modulo2(ascii(left(@cell, 2)))
   then tsql.bitconvert(@gr&power(2, (8-@col)))
   else tsql.bitconvert((~@gr)&power(2,(8-@col)))
   --else 0
  end
  --cache {b}
  --print power(2,8-@col)
 end
 --print 'validcell '||@cell||' - '||@bout
 return @bout
end;

go
}

}

