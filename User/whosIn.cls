Include %occInclude

/// Generated by TSQL CREATE PROC SQLUser.whosIn
Class User.whosIn [ Abstract, DdlAllowed, GeneratedBy = %XSQL.StatementBatch.cls, Owner = {UnknownUser} ]
{

ClassMethod whosIn(cell As %Library.String(MAXLEN=2)) As %Library.Integer [ Language = tsql, SqlName = whosIn, SqlProc ]
{

begin
 declare @who int, @bret bit, @col tinyint
 declare @comp tinyint, @player tinyint
 select  @who = 0, @col = convert(tinyint, right(@cell, 1))
 if SQLUser.isCellEmpty(@cell) = 1
  return 0
 select @comp=Comp, @player=Player
 from check_table
 where row = left(@cell, 1)
 set @who = case 
  when tsql.bitconvert( (@comp & convert(tinyint, power(2, (8-@col))))) = 1 then 1 --Computer
  when tsql.bitconvert( (@player & convert(tinyint, power(2, (8-@col))))) = 1 then 2 --Player
  else 0 end
 return @who
end;

go
}

}

