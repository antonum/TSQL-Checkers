Include %occInclude

/// Generated by TSQL CREATE PROC SQLUser.checkers
Class User.checkers [ Abstract, DdlAllowed, GeneratedBy = %XSQL.StatementBatch.cls, Owner = {UnknownUser} ]
{

ClassMethod checkers(cmd As %Library.String(MAXLEN=20) = "") As %Library.Integer [ Language = tsql, SqlName = checkers, SqlProc ]
{
set nocount on
 
 print ''
 print 'Welcome to TSQL Checkers.'
 print ''
 if(@cmd = 'h' or @cmd = 'help')
 begin
  --Print Rules
  print 'To play, simply enter the grid locations of the piece you want to move and press "Enter"'
  print 'Example: To move a piece from location F2 to E1 enter "F2E1" then press the "Enter" button to execute.'
  print 'If at anytime you need the board redrawn, without starting over, enter "DrawBoard" and press "Enter"'
  print 'If you wish to exit the game type "Xit" and press the "Enter" button.'
  print '' 
  print 'For game play rules please visit "http://games.yahoo.com/games/rules/checkers/checkersbasics.html?page=ck"'
  print '' 
  print '© 2004 Steve Wint'
  print 'Port to Cache'' TSQL © 2009 Anton Umnikov'
  return
 end

 declare @sql varchar(8000)
 
 drop table check_table
 create table check_table(Row char(1),Comp int,Player int,PKing int,CKing int)
 drop table moves_table
 create table moves_table(moves varchar(10),comp bit)
 
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('A', 128 | 32 | 8 | 2, 0, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('B', 64 | 16 | 4 | 1, 0, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('C', 128 | 32 | 8 | 2, 0, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('D', 0, 0, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('E', 0, 0, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('F', 0, 64 | 16 | 4 | 1, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('G', 0, 128 | 32 | 8 | 2, 0, 0)
 insert into check_table(Row, Comp, Player, PKing, CKing)
 values('H', 0, 64 | 16 | 4 | 1, 0, 0)
 
 


 exec('exec makemoves 1') 
 exec('exec makemoves 2') 
 exec('exec drawboard')
}

}

