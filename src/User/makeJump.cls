Include %occInclude

/// Generated by TSQL CREATE PROC SQLUser.makeJump
Class User.makeJump [ Abstract, DdlAllowed, GeneratedBy = %XSQL.StatementBatch.cls, Owner = {UnknownUser} ]
{

ClassMethod makeJump() As %Library.Integer [ Language = tsql, SqlName = makeJump, SqlProc ]
{

begin
 set nocount on
 declare @cell varchar(4), @next varchar(5), @tmp varchar(2)
 
 declare curJump cursor for 
  select distinct left(moves, 2)
  from moves_table where comp = 0
 open curJump
 fetch next from curJump into @cell
 while @@fetch_status = 0
 begin
  set @next = dbo.canJump(2, @cell)
  if @next <> ''
  begin
   if len(@next)=2
    exec createMove @cell, @next, 2, 1
   else
   begin
    set @tmp = left(@next, 2)
    exec createMove @cell, @tmp, 2, 1
    set @tmp = right(@next, 2)
    exec createMove @cell, @tmp, 2, 1
   end
  end 
  fetch next from curJump into @cell
 end
 close curJump
 deallocate curJump
end;

go
}

}

